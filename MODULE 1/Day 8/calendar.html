<html>
<head>
<script>
var arr_num = ["1","2","3","4","5","6","7","8","9"];
var match =["123","234","345","567","678","789","111","222","333","444","555","666","777","888","999"];
function run(){ 
    var counter =0;
    var grid = document.getElementById("grid");
    for (var i = 0, row; row = grid.rows[i]; i++){
        row.cells[0].textContent = arr_num[getRandom()];    
        row.cells[1].textContent = arr_num[getRandom()];
        row.cells[2].textContent = arr_num[getRandom()];
        row.cells[3].textContent = arr_num[getRandom()];    
        row.cells[4].textContent = arr_num[getRandom()];
        row.cells[5].textContent = arr_num[getRandom()];
        row.cells[6].textContent = arr_num[getRandom()];    
        row.cells[7].textContent = arr_num[getRandom()];
        row.cells[8].textContent = arr_num[getRandom()];
        row.cells[9].textContent = arr_num[getRandom()];
    }
    var a = getMatch();
    for(var i=0;i<getMatch().length; i++){
        if(match.indexOf(a[i]) > -1)
            counter++;
    }
    document.getElementById("count").innerHTML = counter++;
}
function getMatch(){
    var grid = document.getElementById("grid");
    var match1 = [[]];
    var match_dia =[];
    var temp_dia1 = 0;
    var temp_dia2 = 2;
    var temp_dia3 = 0;
    var temp_dia4 = 2;
    var match_col = [];
    for (var i = 0, row; row = grid.rows[i]; i++){
        match1[match1.length++] = row.cells[0].textContent+row.cells[1].textContent+row.cells[2].textContent;
        match1[match1.length++] = row.cells[2].textContent+row.cells[1].textContent+row.cells[0].textContent;
        if(match_col.length != 0){
            match_col[0] = match_col[0]+row.cells[0].textContent;
            match_col[1] = match_col[1]+row.cells[1].textContent;
            match_col[2] = match_col[2]+row.cells[2].textContent;
            match_col[3] = row.cells[0].textContent+match_col[3];
            match_col[4] = row.cells[1].textContent+match_col[4];
            match_col[5] = row.cells[2].textContent+match_col[5];
        }else{
            match_col[0] = row.cells[0].textContent;
            match_col[1] = row.cells[1].textContent;
            match_col[2] = row.cells[2].textContent;
            match_col[3] = row.cells[0].textContent;
            match_col[4] = row.cells[1].textContent;
            match_col[5] = row.cells[2].textContent;
        }
        if(match_dia.length != 0){
            match_dia[0] = match_dia[0]+row.cells[temp_dia1++].textContent;
            match_dia[1] = match_dia[1]+row.cells[temp_dia2--].textContent;
            match_dia[2] = row.cells[temp_dia3++].textContent+match_dia[2];
            match_dia[3] = row.cells[temp_dia4--].textContent+match_dia[3];
        }else{
            match_dia[0] = row.cells[temp_dia1++].textContent;
            match_dia[1] = row.cells[temp_dia2--].textContent;
            match_dia[2] = row.cells[temp_dia3++].textContent;
            match_dia[3] = row.cells[temp_dia4--].textContent;
        }
    }
    for(var i=0;i<match_col.length;i++){
        match1[match1.length++] = match_col[i];
    }
    match1[match1.length++] = match_dia[0];
    match1[match1.length++] = match_dia[1];
    return match1;
}
function getRandom(){
    return Math.floor(Math.random() * arr_num.length) + 0 ;
}
</script>
</head>
<body>
<form metdod="post">

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" width="100"v id="grid">
<tr>
    <td id="1-1" height="19" width="20%">&nbsp;</td>
    <td id="1-2" height="19" width="20%">&nbsp;</td>
    <td id="1-3" height="19" width="20%">&nbsp;</td>
    <td id="1-4" height="19" width="20%">&nbsp;</td>
    <td id="1-5" height="19" width="20%">&nbsp;</td>
    <td id="1-6" height="19" width="20%">&nbsp;</td>
    <td id="1-7" height="19" width="20%">&nbsp;</td>
    <td id="1-8" height="19" width="20%">&nbsp;</td>
    <td id="1-9" height="19" width="20%">&nbsp;</td>
</tr>
<tr>
    <td id="2-1" height="16" width="20%">&nbsp;</td>
    <td id="2-2" height="16" width="20%">&nbsp;</td>
    <td id="2-3" height="16" width="20%">&nbsp;</td>
    <td id="2-4" height="16" width="20%">&nbsp;</td>
    <td id="2-5" height="16" width="20%">&nbsp;</td>
    <td id="2-6" height="16" width="20%">&nbsp;</td>
    <td id="2-7" height="16" width="20%">&nbsp;</td>
    <td id="2-8" height="16" width="20%">&nbsp;</td>
    <td id="2-9" height="16" width="20%">&nbsp;</td>

</tr>
<tr>
    <td id="3-1" height="19" width="20%">&nbsp;</td>
    <td id="3-2" height="19" width="20%">&nbsp;</td>
    <td id="3-3" height="19" width="20%">&nbsp;</td>
    <td id="3-4" height="19" width="20%">&nbsp;</td>
    <td id="3-5" height="19" width="20%">&nbsp;</td>
    <td id="3-6" height="19" width="20%">&nbsp;</td>
    <td id="3-7" height="19" width="20%">&nbsp;</td>
    <td id="3-8" height="19" width="20%">&nbsp;</td>
    <td id="3-9" height="19" width="20%">&nbsp;</td>
</tr>
</table>

<br><br>
<div id="count" name="count"></div>
<br><br>
<input type="button" onClick="return run();" value="run">
</form>
</body>
</html>
